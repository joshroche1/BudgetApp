{% extends 'base.html' %}

{% block title %}
{% if g.user %}
Account List
{% else %}
{% endif %}
{% endblock %}

{% block header %}
{% if g.user %}
Account List
{% else %}
{% endif %}
{% endblock %}

{% block navbar %}
{% endblock %}

{% block content %}
{% if g.user %}
<button class="nav-link btn btn-sm btn-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#filterpanel" aria-expanded="false" aria-controls="filterpanel">Filters</button>

<div id="filterpanel" class="collapse m-1 p-1">
  <div class="row">
    
    <div class="col">
      <form action="#" method="">
        <div class="input-group">
          <input type="hidden" id="filterkey" name="filterkey" value="Category">
          <select id="filtervalue" name="filtervalue" class="form-select">
            <option value="" selected disabled>Category</option>
          </select>
          <input type="submit" value="Filter" class="btn btn-sm btn-success">
        </div>
      </form>
    </div>
    <div class="col">
      <form action="#" method="">
        <div class="input-group">
          <input type="hidden" id="filterkey" name="filterkey" value="Category">
          <select id="filtervalue" name="filtervalue" class="form-select">
            <option value="" selected disabled>Category</option>
          </select>
          <input type="submit" value="Filter" class="btn btn-sm btn-success">
        </div>
      </form>
    </div>
    <div class="col">
      <form action="#" method="">
        <div class="input-group">
          <input type="hidden" id="filterkey" name="filterkey" value="Category">
          <select id="filtervalue" name="filtervalue" class="form-select">
            <option value="" selected disabled>Category</option>
          </select>
          <input type="submit" value="Filter" class="btn btn-sm btn-success">
        </div>
      </form>
    </div>
    
  </div>
</div>

<div class="m-3 p-3">
  
  <button type="button" data-bs-toggle="collapse" data-bs-target="#createpanel" aria-expanded="false" aria-controls="createpanel" class="btn btn-sm btn-success">NEW</button>
  <div id="createpanel" class="collapse">
    <form action="/account/create" method="post">
      <div class="row">
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
          <input type="text" id="name" name="name" placeholder="Name" class="form-control" required />
        </div>
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
          <select id="accounttype" name="accounttype" class="form-select">
            <option value="" selected disabled>Type</option>
            {% for accounttype in accounttypelist %}
            <option value="{{ accounttype.value }}">{{ accounttype.value }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
          <select id="currency" name="currency" class="form-select">
            <option value="" selected disabled>Currency</option>
            {% for currency in currencylist %}
            <option value="{{ currency.value }}">{{ currency.value }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
          <input type="text" id="iban" name="iban" placeholder="IBAN" class="form-control" />
          <input type="text" id="bic" name="bic" placeholder="BIC" class="form-control" />
        </div>
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
          <select id="country" name="country" class="form-select">
            <option value="" selected disabled>Country</option>
            <option value="USA">USA</option>
            <option value="DE">DE</option>
          </select>
        </div>
      </div>
      <div class="btn-group" role="group" aria-label="Submit Reset group">
        <input type="submit" value="&#9655;" class="btn btn-sm btn-success">
        <input type="reset" value="&#8634;" class="btn btn-sm btn-secondary">
      </div>
    </form>
  </div>
  
  <table class="table">
    
    <tr>
      <th><a href="" class="btn btn-sm">ID</a></th>
      <th><a href="" class="btn btn-sm">Name</a></th>
      <th><a href="" class="btn btn-sm">Type</a></th>
      <th><a href="" class="btn btn-sm">Currency</a></th>
      <th><a href="" class="btn btn-sm">IBAN</a></th>
      <th><a href="" class="btn btn-sm">BIC</a></th>
      <th><a href="" class="btn btn-sm">Country</a></th>
    </tr>
    
    {% for account in accountlist %}
    <tr>
      <td>{{ account.id }}</td>
      <td><a href="/account/detail/{{ account.id }}" class="btn btn-sm btn-light"><b>{{ account.name }}</b></a></td>
      <td>{{ account.accounttype }}</td>
      <td>{{ account.currency }}</td>
      <td>{{ account.iban }}</td>
      <td>{{ account.bic }}</td>
      <td>{{ account.country }}</td>
    </tr>
    {% endfor %}
    
  </table>
</div>

{% else %}
<div class="container">
</div>
{% endif %}

{% endblock %}
