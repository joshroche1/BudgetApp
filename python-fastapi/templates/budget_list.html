{% extends 'base.html' %}

{% block title %}

{% if g.user %}
Budget List
{% else %}
{% endif %}

{% endblock %}

{% block header %}

{% if g.user %}
Budget List
{% else %}
{% endif %}

{% endblock %}

{% block navbar %}
<li class="nav-item"><a href="" class="nav-link btn btn-sm">|</a></li>
<li class="nav-item">
  <a href="/budget/list" class="nav-link btn btn-sm btn-secondary">Budgets</a>
</li>
<li class="nav-item"><a href="" class="nav-link btn btn-sm">|</a></li>
<li class="nav-item">
  <button class="nav-link btn btn-sm btn-secondary" type="button" data-bs-toggle="collapse" data-bs-target="#filterpanel" aria-expanded="false" aria-controls="filterpanel">Filters</button>
</li>
{% endblock %}

{% block content %}

{% if g.user %}
<div id="filterpanel" class="collapse m-1 p-1">
  <div class="row">
    
    <div class="col">
      <form action="#" method="">
        <div class="input-group">
          <input type="hidden" id="filterkey" name="filterkey" value="Category">
          <select id="filtervalue" name="filtervalue" class="form-select">
            <option value="" selected disabled>Category</option>
          </select>
          <input type="submit" value="Filter" class="btn btn-sm btn-success">
        </div>
      </form>
    </div>
    <div class="col">
      <form action="#" method="">
        <div class="input-group">
          <input type="hidden" id="filterkey" name="filterkey" value="Category">
          <select id="filtervalue" name="filtervalue" class="form-select">
            <option value="" selected disabled>Category</option>
          </select>
          <input type="submit" value="Filter" class="btn btn-sm btn-success">
        </div>
      </form>
    </div>
    <div class="col">
      <form action="#" method="">
        <div class="input-group">
          <input type="hidden" id="filterkey" name="filterkey" value="Category">
          <select id="filtervalue" name="filtervalue" class="form-select">
            <option value="" selected disabled>Category</option>
          </select>
          <input type="submit" value="Filter" class="btn btn-sm btn-success">
        </div>
      </form>
    </div>
    
  </div>
</div>

<div class="m-3 p-3">
  
  <button type="button" data-bs-toggle="collapse" data-bs-target="#createpanel" aria-expanded="false" aria-controls="createpanel" class="btn btn-sm btn-success">NEW</button>
  <div id="createpanel" class="collapse">
    <form action="/budget/create" method="post">
      <div class="row">
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
          <input type="text" id="name" name="name" placeholder="Name" class="form-control" required />
        </div>
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
          <input type="text" id="description" name="description" placeholder="Description" class="form-control" required />
        </div>
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
        </div>
        <div class="col-12 col-sm-6 col-md-4 col-lg-3">
        </div>
      </div>
      <div class="btn-group" role="group" aria-label="Submit Reset group">
        <input type="submit" value="&#9655;" class="btn btn-sm btn-success">
        <input type="reset" value="&#8634;" class="btn btn-sm btn-secondary">
      </div>
    </form>
  </div>
  
  <table class="table">
    
    <tr>
      <th><a href="" class="btn btn-sm">ID</a></th>
      <th><a href="" class="btn btn-sm">Name</a></th>
      <th><a href="" class="btn btn-sm">Currency</a></th>
      <th><a href="" class="btn btn-sm">Description</a></th>
    </tr>
    
    {% for budget in budgetlist %}
    <tr>
      <td>{{ budget.id }}</td>
      <td><a href="/budget/detail/{{ budget.id }}" class="btn btn-sm btn-light"><b>{{ budget.name }}</b></a></td>
      <td>{{ budget.currency }}</td>
      <td>{{ budget.description }}</td>
    </tr>
    {% endfor %}
    
  </table>
</div>

{% else %}
<div class="container">
</div>
{% endif %}

{% endblock %}
